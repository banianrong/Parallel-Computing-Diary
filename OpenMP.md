# **OpenMP入门**
前情提要：**并行**(parallel):需要多个运算核心同时完成

其中有多处理器和单处理器多核两种实现方式，其中差异如下：
- 同一芯片上的多核通信速度更快
- 同一芯片上的多核能耗更低

## **OpenMP初见**

### **OpenMP作用**
- 编译器指令(#pragma)、库函数、环境变量
- 极大地简化了C/C++/Fortran多线程编程
- 并不是全自动并行编程语言(其并行行为仍需由用户定义及控制)

### **\#pragma**
预处理指令
- 设定编译器状态或指定编译器完成特定动作
  - 需要编译器支持相应功能，否则将被忽略

` \#pragma once `

该段代码实现的功能是头文件只被编译一次

```
\#ifdef HEADER_H

\#define HEADER_H

...

\#endif
```

上述代码实现的功能也是头文件只被编译一次

| \#pragma once | #ifndef |
|:-------------:|:-------:|
|需要编译器支持|不需要特定编译器|
|针对物理文件|不针对物理文件|
|需要用户保证头文件没有多份拷贝|需要用户保证不同文件的宏名不重复|

`\#pragma GCC poison printf`

禁止使用printf函数，该段语句本质上就是申明printf被污染了，紧跟在该条语句后面的代码段不能使用printf。

**注意：对于形如\#pragma的语句，其作用域一般只包含于该语句的下一个代码段，也就是一对大括号之内。**
